/**
 * The Tribunal - Tabs
 * Horizontal tab bar with binder divider styling
 * REBUILD - Skill-colored tabs like notebook dividers
 * 
 * Colors based on Disco Elysium attributes:
 * - PSY (Purple) - Voices
 * - INT (Blue) - Cabinet  
 * - FYS (Red) - Status
 * - MOT (Yellow) - Ledger
 * - DE Orange - Radio
 */

/* ═══════════════════════════════════════════════════════════════
   TAB COLORS
   ═══════════════════════════════════════════════════════════════ */

:root {
    --tab-psy: #9b6b9e;      /* Purple - Psyche */
    --tab-psy-dark: #7a5480;
    
    --tab-int: #5b8fa8;      /* Blue - Intellect */
    --tab-int-dark: #4a7a91;
    
    --tab-fys: #c25a5a;      /* Red - Physique */
    --tab-fys-dark: #a34848;
    
    --tab-mot: #c9a227;      /* Yellow - Motorics */
    --tab-mot-dark: #a8871f;
    
    --tab-radio: #d4784a;    /* Orange - DE Accent */
    --tab-radio-dark: #b8623a;
}

/* ═══════════════════════════════════════════════════════════════
   TAB CONTAINER
   ═══════════════════════════════════════════════════════════════ */

.ie-tabs {
    display: flex;
    gap: 3px;
    padding: 0 8px;
    background: var(--ie-bg-secondary);
    border-bottom: 1px solid var(--ie-border);
    margin-left: 32px;
    margin-right: 30px;
}

/* ═══════════════════════════════════════════════════════════════
   INDIVIDUAL TAB - Binder divider style
   ═══════════════════════════════════════════════════════════════ */

.ie-tab {
    flex: 1;
    padding: 10px 8px;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    
    /* Divider tab shape - rounded top */
    border-radius: 8px 8px 0 0;
    margin-top: 4px;
    
    /* Default muted state */
    background: rgba(60, 60, 70, 0.5);
    color: var(--ie-text-muted);
    box-shadow: inset 0 -2px 4px rgba(0, 0, 0, 0.2);
}

/* Paper texture overlay */
.ie-tab::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    opacity: 0.1;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}

.ie-tab:hover {
    margin-top: 2px;
    padding-bottom: 12px;
}

/* ═══════════════════════════════════════════════════════════════
   TAB COLORS BY TYPE
   ═══════════════════════════════════════════════════════════════ */

/* Voices - PSY Purple */
.ie-tab[data-tab="voices"] {
    background: linear-gradient(180deg, var(--tab-psy) 0%, var(--tab-psy-dark) 100%);
    color: rgba(255, 255, 255, 0.9);
}

/* Cabinet - INT Blue */
.ie-tab[data-tab="cabinet"] {
    background: linear-gradient(180deg, var(--tab-int) 0%, var(--tab-int-dark) 100%);
    color: rgba(255, 255, 255, 0.9);
}

/* Status - FYS Red */
.ie-tab[data-tab="status"] {
    background: linear-gradient(180deg, var(--tab-fys) 0%, var(--tab-fys-dark) 100%);
    color: rgba(255, 255, 255, 0.9);
}

/* Ledger - MOT Yellow */
.ie-tab[data-tab="ledger"] {
    background: linear-gradient(180deg, var(--tab-mot) 0%, var(--tab-mot-dark) 100%);
    color: rgba(255, 255, 255, 0.9);
}

/* Radio - DE Orange */
.ie-tab[data-tab="radio"] {
    background: linear-gradient(180deg, var(--tab-radio) 0%, var(--tab-radio-dark) 100%);
    color: rgba(255, 255, 255, 0.9);
}

/* ═══════════════════════════════════════════════════════════════
   INACTIVE STATE - Muted colors
   ═══════════════════════════════════════════════════════════════ */

.ie-tab:not(.ie-tab-active) {
    opacity: 0.6;
    filter: saturate(0.7);
}

.ie-tab:not(.ie-tab-active):hover {
    opacity: 0.85;
    filter: saturate(0.9);
}

/* ═══════════════════════════════════════════════════════════════
   ACTIVE STATE - Pops up
   ═══════════════════════════════════════════════════════════════ */

.ie-tab.ie-tab-active {
    margin-top: 0;
    padding-bottom: 14px;
    opacity: 1;
    filter: saturate(1);
    box-shadow: 
        0 -2px 8px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    z-index: 2;
    position: relative;
}

/* ═══════════════════════════════════════════════════════════════
   TAB CONTENT
   ═══════════════════════════════════════════════════════════════ */

.ie-tab-content {
    display: none;
}

.ie-tab-content.ie-tab-content-active {
    display: block;
    /* ── Flicker fix: promote active tab to own GPU layer so
         display:block doesn't force full panel layer rebuild ── */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}

/* ═══════════════════════════════════════════════════════════════
   MOBILE - Smaller tabs
   ═══════════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
    .ie-tab {
        padding: 8px 6px;
        font-size: 14px;
        border-radius: 6px 6px 0 0;
    }
    
    .ie-tab.ie-tab-active {
        padding-bottom: 12px;
    }
}
